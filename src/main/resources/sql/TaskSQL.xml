<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="taskMapper">

	<!-- 업무 시퀀스 조회 -->
	<select id="getTaskSeq" resultType="int">
	select task_SEQ.nextval from dual
	</select>
	
	<!-- 업무 등록 -->
   	<insert id="insertTask" parameterType="taskDTO">
    insert all
	into task(task_no,task_title,task_state,task_priority,task_content) values(#{task_no},#{task_title},#{task_state},#{task_priority},#{task_content})
	into participants(cont_kind,cont_no,mem_no) values(3,#{cont_no},3)
	into time(cont_kind,cont_no,time_kind,time_date) values(3,#{cont_no},#{time_kind},#{time_date})
	select * from dual
	</insert>
	
	<!-- 업무 수정 -->
	<update id="updateTask" parameterType="taskDTO">
	update task set 
	task_title = #{task_title},
	task_content = #{task_content},
	task_state = #{task_state},
	task_priority = #{task_priority}
	where task_no = #{task_no}
	</update>
	
	<!-- 업무 삭제 -->
	<delete id="deleteTask" parameterType="taskDTO">
	delete from task where task_no = #{task_no}
	</delete>
	
	
</mapper>